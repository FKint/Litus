{% extends 'site/base.twig' %}

{% block content %}
    <div class="page-header">
        <h1>{{ translate('Piano') }}</h1>
    </div>

    <ul id="weeks" class="nav nav-tabs">
        {% for key, week in form.getWeeks() %}
            <li><a href="#week-{{ key }}" data-toggle="tab">{{ dateLocalized(week['start'], 'd MMM') }} - {{ dateLocalized(week['end'], 'd MMM') }}</a></li>
        {% endfor %}

        {% if hasAccess('logistics_piano', 'overview') %}
            <li class="pull-right {% if 'overview' == getParam('action') %}active{% endif %}">
                <a href="{{ url('logistics_piano', {'action': 'overview'}) }}">{{ translate('Reservations') }}</a>
            </li>
        {% endif %}
    </ul>

    <table class="table table-striped table-bordered">
        <tr>
            <th>{{ translate('Confirmed') }}</th>
            <th>{{ translate('Start Date') }}</th>
            <th>{{ translate('End Date') }}</th>
        </tr>

        {% for reservation in reservations %}
            <tr>
                <td>{% if reservation.isConfirmed() %}&times;{% endif %}</td>
                <td>{{ dateLocalized(reservation.getStartDate(), 'E d MMMM Y H:mm') }}</td>
                <td>{{ dateLocalized(reservation.getEndDate(), 'E d MMMM Y H:mm') }}</td>
            </tr>
        {% endfor %}
    </table>

{% endblock %}